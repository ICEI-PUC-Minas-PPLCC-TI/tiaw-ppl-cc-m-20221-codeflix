const htmlSvg = `<svg width="100%" height="100%" viewBox="0 0 86 86" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="43" cy="43" r="43" fill="#ED9B68"></circle>
<path d="M23.3577 66.1215L18.987 17.8701H67.013L62.6374 66.1142L42.9707 71.4805L23.3577 66.1215Z" fill="#E44D26"></path>
<path d="M43 67.3788L58.8919 63.042L62.6309 21.8153H43V67.3788Z" fill="#F16529"></path>
<path d="M43 39.7112H35.044L34.4944 33.6509H43V27.7333H27.9237L28.0679 29.3209L29.5453 45.6291H43V39.7112ZM43 55.0803L42.9733 55.0876L36.2777 53.3075L35.85 48.5883H29.814L30.6562 57.88L42.9724 61.2451L43 61.2378V55.0803Z" fill="#EBEBEB"></path>
<path d="M42.979 39.7112V45.6291H50.3824L49.6847 53.304L42.979 55.0855V61.2425L55.3048 57.88L55.3953 56.8803L56.8081 41.3004L56.9544 39.7112H55.3345H42.979ZM42.979 27.7333V33.6509H57.5018L57.6223 32.3213L57.8967 29.3209L58.0404 27.7333H42.979Z" fill="white"></path>
</svg>`;

const javascriptSvg = `<svg width="100%" height="100%" viewBox="0 0 86 86" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="43" cy="43" r="43" fill="#EFBB3E"></circle>
<path d="M18 18H68.01V68.0104H18V18Z" fill="#F0DB4F"></path>
<path d="M63.9172 56.0827C63.5509 53.8012 62.0632 51.8849 57.6564 50.0979C56.1255 49.3944 54.4189 48.8907 53.9104 47.7306C53.7298 47.0554 53.7058 46.6751 53.8201 46.2664C54.1481 44.9401 55.7312 44.5266 56.986 44.9069C57.7942 45.1778 58.5592 45.8006 59.0207 46.7941C61.1787 45.3967 61.1743 45.4059 62.6812 44.4455C62.1295 43.5902 61.8351 43.1955 61.4739 42.8296C60.176 41.3798 58.4074 40.6332 55.579 40.6903L54.1057 40.8809C52.6939 41.2376 51.3484 41.9787 50.5594 42.9722C48.192 45.6584 48.8672 50.3596 51.7479 52.2943C54.5859 54.4244 58.755 54.909 59.2875 56.9009C59.8057 59.3394 57.4954 60.1288 55.1991 59.8483C53.5069 59.4964 52.5657 58.6363 51.5482 57.0723C49.6753 58.1561 49.6753 58.1561 47.7498 59.2635C48.2064 60.2618 48.6862 60.7136 49.4516 61.5785C53.0742 65.2531 62.1395 65.0725 63.7654 59.5108C63.8313 59.3198 64.2692 58.0462 63.9172 56.0827V56.0827ZM45.187 40.9847H40.5094L40.4902 53.0782C40.4902 55.6501 40.6233 58.0079 40.205 58.7306C39.5207 60.152 37.7473 59.9758 36.9391 59.7001C36.1166 59.2958 35.6983 58.721 35.2137 57.9084C35.0807 57.6751 34.9808 57.4945 34.9473 57.4806L31.1441 59.8096C31.7765 61.1075 32.7081 62.2341 33.9014 62.966C35.6839 64.0358 38.0797 64.3638 40.5853 63.7885C42.216 63.3135 43.623 62.3296 44.3597 60.8319C45.4247 58.8684 45.1962 56.4918 45.1866 53.8632C45.2106 49.5746 45.187 45.2869 45.187 40.9847V40.9847Z" fill="#323330"></path>
</svg>`;

const cssSvg = `<svg width="100%" height="100%" viewBox="0 0 86 86" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="43" cy="43" r="43" fill="#6785DB"></circle>
<path d="M20.0592 72.7469L15 16H70.5941L65.5298 72.7384L42.7633 79.0501L20.0592 72.7469V72.7469Z" fill="#1572B6"></path>
<path d="M42.7975 74.2258L61.1942 69.1253L65.5222 20.6395H42.7975V74.2258Z" fill="#33A9DC"></path>
<path d="M42.7975 41.199H52.0071L52.6432 34.0721H42.7975V27.1122H60.2496L60.0826 28.9796L58.3717 48.1588H42.7975V41.199Z" fill="white"></path>
<path d="M42.8388 59.2741L42.8081 59.2832L35.0572 57.1904L34.5615 51.6395H27.576L28.5508 62.5676L42.8071 66.5243L42.8388 66.5153V59.2741V59.2741Z" fill="#EBEBEB"></path>
<path d="M51.4155 47.8645L50.5771 57.1849L42.8147 59.2802V66.5213L57.0826 62.5671L57.1872 61.3912L58.3979 47.8645H51.4155Z" fill="white"></path>
<path d="M42.8212 27.1122V34.0721H26.0102L25.8708 32.5081L25.5538 28.9796L25.3872 27.1122H42.8212V27.1122ZM42.7976 41.2V48.1598H35.1444L35.005 46.5958L34.6874 43.0674L34.5214 41.2H42.7976V41.2Z" fill="#EBEBEB"></path>
</svg>`;

const basicCourses = [
  {
    name: "HTML Básico",
    description: "para iniciantes",
    stars: 4,
    view: "60%",
    svg: htmlSvg,
    color: "#e44d26",
    customStyle: `linear-gradient(89.58deg, #d64d00 -1.92%, #e47d3b 98.71%);`,
    playlist: [
      {
        id: 1,
        name: "Conhecendo o básico",
        videos: [
          {
            title: "O que é HTML",
            time: 25,
            watched: false,
            url: "https://youtube.com/embed/0409yssD3vk",
          },
          {
            title: "Tags HTML",
            time: 15,
            watched: false,
            url: "https://youtube.com/embed/e9WZHMVm-2k",
          },
        ],
      },
      {
        id: 2,
        name: "Mão na massa",
        videos: [
          {
            title: "Tabelas e Listas",
            time: 25,
            watched: false,
            url: "https://youtube.com/embed/lIiZu-94PBk",
          },
          {
            title: "Meta tags",
            time: 15,
            watched: false,
            url: "https://youtube.com/embed/-gwyAlV2riA",
          },
          {
            title: "Seu primeiro site",
            time: 35,
            watched: false,
          },
        ],
      },
    ],
  },
  {
    name: "Javascript",
    description: "para iniciantes",
    stars: 4,
    view: "20%",
    svg: javascriptSvg,
    color: "#f0db4f",
    customStyle: `background: linear-gradient(90deg, #db8a11 0%, #e7ab12 100%);`,
    playlist: [
      {
        id: 1,
        name: "Conhecendo o básico",
        videos: [
          {
            title: "Por traz do JS",
            time: 25,
            watched: false,
            url: "https://youtube.com/embed/Ptbk2af68e8",
          },
          {
            title: "Variaveis",
            time: 25,
            watched: false,
            url: "https://youtube.com/embed/Vbabsye7mWo",
          },
          {
            title: "Lógica de programação",
            time: 90,
            watched: false,
            url: "https://youtube.com/embed/bFRCBo6GuHU",
          },
        ],
      },
      {
        id: 2,
        name: "Calculadora",
        videos: [
          {
            title: "Condições if/else",
            time: 25,
            watched: false,
            url: "https://youtube.com/embed/3_zz-xVWDWI",
          },
          {
            title: "Funções",
            time: 15,
            watched: false,
            url: "https://youtube.com/embed/mc3TKp2XzhI",
          },
          {
            title: "Calculadora funcional",
            time: 55,
            watched: false,
            url: "https://youtube.com/embed/oRZQ5EZOrQk",
          },
        ],
      },
    ],
  },
  {
    name: "CSS Básico",
    description: "para iniciantes",
    stars: 4,
    view: "10%",
    svg: cssSvg,
    color: "#33a9dc",
    customStyle: `background: linear-gradient(90deg,#043dcf -0.41%,#245def 100.54%);`,
    playlist: [
      {
        id: 1,
        name: "O que é CSS?",
        videos: [
          {
            title: "Alinhamento",
            time: 25,
            watched: false,
            url: "https://youtube.com/embed/Cu-HP-gvggg",
          },
          {
            title: "Cores",
            time: 25,
            watched: false,
            url: "https://youtube.com/embed/qiGiANnj4DU",
          },
          {
            title: "Altura & Largura",
            time: 90,
            watched: false,
            url: "https://youtube.com/embed/Ki4_CcHwFa4",
          },
        ],
      },
      {
        id: 2,
        name: "Estilizando",
        videos: [
          {
            title: "Grid e Flex",
            time: 25,
            watched: false,
            url: "https://youtube.com/embed/x-4z_u8LcGc",
          },
          {
            title: "Variaveis",
            time: 15,
            watched: false,
            url: "https://youtube.com/embed/3S5ts5bzvzM",
          },
          {
            title: "Media - Responsividade",
            time: 40,
            watched: false,
            url: "https://youtube.com/embed/WcGPSeuJDJ0",
          },
        ],
      },
    ],
  },
];

const loadMain = () => {
  const cursosstring = localStorage.getItem("@courses");
  if (!cursosstring) {
    localStorage.setItem("@courses", JSON.stringify(basicCourses));
    course = localStorage.getItem("@courses");

    const seuCaminho = document.querySelector(".courses-container");
    seuCaminho.innerHTML = "";
    basicCourses.map((item, pos) => {
      console.log(pos);
      const HTMLCourse = `<a href="cursos/index.html?id=${pos}" style="text-decoration: none">
    <div class="course-component" style="${item.customStyle}">
      <div class="top">
        <div>
          <h1>${item.name}</h1> 
          <h3>${item.description}</h3>
          <div class="stars-container">
          ${
            item.stars > 0
              ? '<div class="star"><svg width="100%" height="100%" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.54894 0.927052C7.8483 0.0057416 9.1517 0.00573945 9.45106 0.92705L10.6329 4.56434C10.7668 4.97636 11.1507 5.25532 11.5839 5.25532H15.4084C16.3771 5.25532 16.7799 6.49494 15.9962 7.06434L12.9021 9.31231C12.5516 9.56695 12.405 10.0183 12.5389 10.4303L13.7207 14.0676C14.02 14.9889 12.9656 15.7551 12.1818 15.1857L9.08779 12.9377C8.7373 12.6831 8.2627 12.6831 7.91222 12.9377L4.81815 15.1857C4.03444 15.7551 2.97996 14.9889 3.27931 14.0676L4.46114 10.4303C4.59501 10.0183 4.44835 9.56695 4.09787 9.31231L1.00381 7.06434C0.220092 6.49494 0.622867 5.25532 1.59159 5.25532H5.41606C5.84929 5.25532 6.23324 4.97636 6.36712 4.56434L7.54894 0.927052Z" fill="#FFC700"></path></svg></div>'
              : ""
          }
          ${
            item.stars > 1
              ? '<div class="star"><svg width="100%" height="100%" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.54894 0.927052C7.8483 0.0057416 9.1517 0.00573945 9.45106 0.92705L10.6329 4.56434C10.7668 4.97636 11.1507 5.25532 11.5839 5.25532H15.4084C16.3771 5.25532 16.7799 6.49494 15.9962 7.06434L12.9021 9.31231C12.5516 9.56695 12.405 10.0183 12.5389 10.4303L13.7207 14.0676C14.02 14.9889 12.9656 15.7551 12.1818 15.1857L9.08779 12.9377C8.7373 12.6831 8.2627 12.6831 7.91222 12.9377L4.81815 15.1857C4.03444 15.7551 2.97996 14.9889 3.27931 14.0676L4.46114 10.4303C4.59501 10.0183 4.44835 9.56695 4.09787 9.31231L1.00381 7.06434C0.220092 6.49494 0.622867 5.25532 1.59159 5.25532H5.41606C5.84929 5.25532 6.23324 4.97636 6.36712 4.56434L7.54894 0.927052Z" fill="#FFC700"></path></svg></div>'
              : ""
          }
          ${
            item.stars > 2
              ? '<div class="star"><svg width="100%" height="100%" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.54894 0.927052C7.8483 0.0057416 9.1517 0.00573945 9.45106 0.92705L10.6329 4.56434C10.7668 4.97636 11.1507 5.25532 11.5839 5.25532H15.4084C16.3771 5.25532 16.7799 6.49494 15.9962 7.06434L12.9021 9.31231C12.5516 9.56695 12.405 10.0183 12.5389 10.4303L13.7207 14.0676C14.02 14.9889 12.9656 15.7551 12.1818 15.1857L9.08779 12.9377C8.7373 12.6831 8.2627 12.6831 7.91222 12.9377L4.81815 15.1857C4.03444 15.7551 2.97996 14.9889 3.27931 14.0676L4.46114 10.4303C4.59501 10.0183 4.44835 9.56695 4.09787 9.31231L1.00381 7.06434C0.220092 6.49494 0.622867 5.25532 1.59159 5.25532H5.41606C5.84929 5.25532 6.23324 4.97636 6.36712 4.56434L7.54894 0.927052Z" fill="#FFC700"></path></svg></div>'
              : ""
          }
          ${
            item.stars > 3
              ? '<div class="star"><svg width="100%" height="100%" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.54894 0.927052C7.8483 0.0057416 9.1517 0.00573945 9.45106 0.92705L10.6329 4.56434C10.7668 4.97636 11.1507 5.25532 11.5839 5.25532H15.4084C16.3771 5.25532 16.7799 6.49494 15.9962 7.06434L12.9021 9.31231C12.5516 9.56695 12.405 10.0183 12.5389 10.4303L13.7207 14.0676C14.02 14.9889 12.9656 15.7551 12.1818 15.1857L9.08779 12.9377C8.7373 12.6831 8.2627 12.6831 7.91222 12.9377L4.81815 15.1857C4.03444 15.7551 2.97996 14.9889 3.27931 14.0676L4.46114 10.4303C4.59501 10.0183 4.44835 9.56695 4.09787 9.31231L1.00381 7.06434C0.220092 6.49494 0.622867 5.25532 1.59159 5.25532H5.41606C5.84929 5.25532 6.23324 4.97636 6.36712 4.56434L7.54894 0.927052Z" fill="#FFC700"></path></svg></div>'
              : ""
          }
          ${
            item.stars > 4
              ? '<div class="star"><svg width="100%" height="100%" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.54894 0.927052C7.8483 0.0057416 9.1517 0.00573945 9.45106 0.92705L10.6329 4.56434C10.7668 4.97636 11.1507 5.25532 11.5839 5.25532H15.4084C16.3771 5.25532 16.7799 6.49494 15.9962 7.06434L12.9021 9.31231C12.5516 9.56695 12.405 10.0183 12.5389 10.4303L13.7207 14.0676C14.02 14.9889 12.9656 15.7551 12.1818 15.1857L9.08779 12.9377C8.7373 12.6831 8.2627 12.6831 7.91222 12.9377L4.81815 15.1857C4.03444 15.7551 2.97996 14.9889 3.27931 14.0676L4.46114 10.4303C4.59501 10.0183 4.44835 9.56695 4.09787 9.31231L1.00381 7.06434C0.220092 6.49494 0.622867 5.25532 1.59159 5.25532H5.41606C5.84929 5.25532 6.23324 4.97636 6.36712 4.56434L7.54894 0.927052Z" fill="#FFC700"></path></svg></div>'
              : ""
          }
          </div>
        </div>
        <div class="logo-svg">
        ${item.svg}
        </div>
      </div>
      <div class="bottom">

      </div>
    </div>
  </a>`;

      document
        .querySelector(".courses-container")
        .insertAdjacentHTML("beforeend", HTMLCourse);
    });
  } else {
    const cursos = JSON.parse(cursosstring);

    ///////////////////////////////
    //// Alterando Seu caminho ////
    ///////////////////////////////

    const seuCaminho = document.querySelector(".courses-container");
    seuCaminho.innerHTML = "";
    cursos.map((item, pos) => {
      console.log(pos);
      const HTMLCourse = `<a href="cursos/index.html?id=${pos}" style="text-decoration: none">
    <div class="course-component" style="${item.customStyle}">
      <div class="top">
        <div>
          <h1>${item.name}</h1> 
          <h3>${item.description}</h3>
          <div class="stars-container">
          ${
            item.stars > 0
              ? '<div class="star"><svg width="100%" height="100%" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.54894 0.927052C7.8483 0.0057416 9.1517 0.00573945 9.45106 0.92705L10.6329 4.56434C10.7668 4.97636 11.1507 5.25532 11.5839 5.25532H15.4084C16.3771 5.25532 16.7799 6.49494 15.9962 7.06434L12.9021 9.31231C12.5516 9.56695 12.405 10.0183 12.5389 10.4303L13.7207 14.0676C14.02 14.9889 12.9656 15.7551 12.1818 15.1857L9.08779 12.9377C8.7373 12.6831 8.2627 12.6831 7.91222 12.9377L4.81815 15.1857C4.03444 15.7551 2.97996 14.9889 3.27931 14.0676L4.46114 10.4303C4.59501 10.0183 4.44835 9.56695 4.09787 9.31231L1.00381 7.06434C0.220092 6.49494 0.622867 5.25532 1.59159 5.25532H5.41606C5.84929 5.25532 6.23324 4.97636 6.36712 4.56434L7.54894 0.927052Z" fill="#FFC700"></path></svg></div>'
              : ""
          }
          ${
            item.stars > 1
              ? '<div class="star"><svg width="100%" height="100%" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.54894 0.927052C7.8483 0.0057416 9.1517 0.00573945 9.45106 0.92705L10.6329 4.56434C10.7668 4.97636 11.1507 5.25532 11.5839 5.25532H15.4084C16.3771 5.25532 16.7799 6.49494 15.9962 7.06434L12.9021 9.31231C12.5516 9.56695 12.405 10.0183 12.5389 10.4303L13.7207 14.0676C14.02 14.9889 12.9656 15.7551 12.1818 15.1857L9.08779 12.9377C8.7373 12.6831 8.2627 12.6831 7.91222 12.9377L4.81815 15.1857C4.03444 15.7551 2.97996 14.9889 3.27931 14.0676L4.46114 10.4303C4.59501 10.0183 4.44835 9.56695 4.09787 9.31231L1.00381 7.06434C0.220092 6.49494 0.622867 5.25532 1.59159 5.25532H5.41606C5.84929 5.25532 6.23324 4.97636 6.36712 4.56434L7.54894 0.927052Z" fill="#FFC700"></path></svg></div>'
              : ""
          }
          ${
            item.stars > 2
              ? '<div class="star"><svg width="100%" height="100%" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.54894 0.927052C7.8483 0.0057416 9.1517 0.00573945 9.45106 0.92705L10.6329 4.56434C10.7668 4.97636 11.1507 5.25532 11.5839 5.25532H15.4084C16.3771 5.25532 16.7799 6.49494 15.9962 7.06434L12.9021 9.31231C12.5516 9.56695 12.405 10.0183 12.5389 10.4303L13.7207 14.0676C14.02 14.9889 12.9656 15.7551 12.1818 15.1857L9.08779 12.9377C8.7373 12.6831 8.2627 12.6831 7.91222 12.9377L4.81815 15.1857C4.03444 15.7551 2.97996 14.9889 3.27931 14.0676L4.46114 10.4303C4.59501 10.0183 4.44835 9.56695 4.09787 9.31231L1.00381 7.06434C0.220092 6.49494 0.622867 5.25532 1.59159 5.25532H5.41606C5.84929 5.25532 6.23324 4.97636 6.36712 4.56434L7.54894 0.927052Z" fill="#FFC700"></path></svg></div>'
              : ""
          }
          ${
            item.stars > 3
              ? '<div class="star"><svg width="100%" height="100%" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.54894 0.927052C7.8483 0.0057416 9.1517 0.00573945 9.45106 0.92705L10.6329 4.56434C10.7668 4.97636 11.1507 5.25532 11.5839 5.25532H15.4084C16.3771 5.25532 16.7799 6.49494 15.9962 7.06434L12.9021 9.31231C12.5516 9.56695 12.405 10.0183 12.5389 10.4303L13.7207 14.0676C14.02 14.9889 12.9656 15.7551 12.1818 15.1857L9.08779 12.9377C8.7373 12.6831 8.2627 12.6831 7.91222 12.9377L4.81815 15.1857C4.03444 15.7551 2.97996 14.9889 3.27931 14.0676L4.46114 10.4303C4.59501 10.0183 4.44835 9.56695 4.09787 9.31231L1.00381 7.06434C0.220092 6.49494 0.622867 5.25532 1.59159 5.25532H5.41606C5.84929 5.25532 6.23324 4.97636 6.36712 4.56434L7.54894 0.927052Z" fill="#FFC700"></path></svg></div>'
              : ""
          }
          ${
            item.stars > 4
              ? '<div class="star"><svg width="100%" height="100%" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.54894 0.927052C7.8483 0.0057416 9.1517 0.00573945 9.45106 0.92705L10.6329 4.56434C10.7668 4.97636 11.1507 5.25532 11.5839 5.25532H15.4084C16.3771 5.25532 16.7799 6.49494 15.9962 7.06434L12.9021 9.31231C12.5516 9.56695 12.405 10.0183 12.5389 10.4303L13.7207 14.0676C14.02 14.9889 12.9656 15.7551 12.1818 15.1857L9.08779 12.9377C8.7373 12.6831 8.2627 12.6831 7.91222 12.9377L4.81815 15.1857C4.03444 15.7551 2.97996 14.9889 3.27931 14.0676L4.46114 10.4303C4.59501 10.0183 4.44835 9.56695 4.09787 9.31231L1.00381 7.06434C0.220092 6.49494 0.622867 5.25532 1.59159 5.25532H5.41606C5.84929 5.25532 6.23324 4.97636 6.36712 4.56434L7.54894 0.927052Z" fill="#FFC700"></path></svg></div>'
              : ""
          }
          </div>
        </div>
        <div class="logo-svg">
        ${item.svg}
        </div>
      </div>
      <div class="bottom">

      </div>
    </div>
  </a>`;

      document
        .querySelector(".courses-container")
        .insertAdjacentHTML("beforeend", HTMLCourse);
    });
  }
};

const loadCourse = (id) => {
  const course = localStorage.getItem("@courses");

  const courseParsed = JSON.parse(course);
  const curso = courseParsed[id];

  ///////////////////////////
  // Adicionando Primarios //
  ///////////////////////////

  console.log(curso);

  document.querySelector("#curso-title").innerHTML = curso.name;

  document.querySelectorAll("svg")[1].outerHTML = curso.svg;

  document.querySelector(
    ".progress-course > div"
  ).style = `width: ${curso.view}`;

  /////////////////////
  // Inserindo Curso //
  /////////////////////

  console.log(curso);

  curso.playlist.map((item, ref) => {
    const playlist_title = `
    <div class="title-container">
        <div class="numeration" style="color: ${curso.color}; border-color: ${
      curso.color
    }" >${ref + 1}</div>
        <h3>${item.name}</h3>
      </div>
    `;

    document
      .querySelector("main")
      .insertAdjacentHTML("beforeend", playlist_title);

    item.videos.map((video, ref2) => {
      const video_component = `
        <div class="conteudo" style="border-color: ${curso.color}">
        <div class="info">
          <h1>${video.title}</h1>
          <p>${video.time} mins</p>
        </div>
        <a 
        href="../video/index.html?course=${id + "/" + ref + "/" + ref2}"
        class="assistir ${video.watched ? "assistido" : ""}"
        style="${
          !video.watched
            ? `border-color: ${curso.color}; color: ${curso.color}`
            : ``
        }">
        ${video.watched ? "assistido" : "assistir"}</a>
      </div>
        `;

      document
        .querySelector("main")
        .insertAdjacentHTML("beforeend", video_component);
    });
  });
};

/*
    User Info
*/

const basicUser = {
  user: "User Legal",
  email: "email@email.com",
  photo_url:
    "https://zipmex.com/static/d1af016df3c4adadee8d863e54e82331/1bbe7/Twitter-NFT-profile.jpg",
  level: 23,
  next: "70%",
  ranking: 240,
  watched: "35",
};

const user = localStorage.getItem("@user");
if (!user) {
  //localStorage.setItem("@user", JSON.stringify(basicUser));
  //user = localStorage.getItem("@user");
}

const loadHeaderUser = () => {
  const userInfo = JSON.parse(user);
  document.querySelector(".profile-container img").src = userInfo.photo_url;
  document.querySelector(".progress").style = `width: ${userInfo.next};`;
};

const loadUserStatus = () => {
  const userInfo = JSON.parse(user);
  console.log(userInfo);
  document.querySelector(
    ".rank h1"
  ).innerHTML = `<span>#</span>${userInfo.ranking}`;
  document.querySelector(
    "#porcentagem_assistida"
  ).innerHTML = `${userInfo.watched}<span>%</span>`;
};

const loadUserInfo = () => {
  const userInfo = JSON.parse(user);
  console.log(userInfo);
  document.querySelector(".level h3").innerHTML = userInfo.level;
  document.querySelector(".level h3.active").innerHTML = userInfo.level + 1;
  document.querySelector(
    ".progress-bar > div"
  ).style = `width: ${userInfo.next};`;

  // changes placeholder
  document.getElementById("user").value = userInfo.user;
  document.getElementById("email").value = userInfo.email;
};

const changeUserInfo = () => {
  const newUser = document.getElementById("user").value;
  const newEmail = document.getElementById("email").value;
  console.log({
    newUser,
    newEmail,
  });

  /*
  Alterando no banco de dados
  */
  let userInfo = JSON.parse(user);

  const userDBString = localStorage.getItem("@userDB");
  let userDB = JSON.parse(userDBString);
  let posicaoID = -1;
  userDB.map((item, pos) => {
    if (item.user == userInfo.user) {
      posicaoID = pos;
    }
  });

  userDB[posicaoID].user = newUser;
  userDB[posicaoID].email = newEmail;

  localStorage.setItem("@userDB", JSON.stringify(userDB));
  /*
    Alterando na sessao atual
  */

  userInfo.user = newUser;
  userInfo.email = newEmail;
  localStorage.setItem("@user", JSON.stringify(userInfo));
};

const logout = () => {
  console.log("chamado!");
  localStorage.removeItem("@user");
  window.location = "/html/auth/index.html";
};

loadHeaderUser();
